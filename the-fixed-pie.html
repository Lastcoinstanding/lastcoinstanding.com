<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WNGLLPPR5M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-WNGLLPPR5M');
</script>

<!-- SEO -->
<title>The Bitcoin Fixed Share ‚Äî Last Coin Standing</title>
<meta name="description" content="Bitcoin's supply is fixed at 21 million ‚Äî forever. Your share of the monetary network is mathematically guaranteed at the moment of acquisition. Explore what that means compared to gold and fiat.">
<link rel="canonical" href="https://lastcoinstanding.com/the-fixed-pie.html">

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://lastcoinstanding.com/the-fixed-pie.html">
<meta property="og:title" content="The Bitcoin Fixed Share ‚Äî Last Coin Standing">
<meta property="og:description" content="Bitcoin's supply is fixed at 21 million ‚Äî forever. Your share of the monetary network is mathematically guaranteed at the moment of acquisition.">
<meta property="og:image" content="https://lastcoinstanding.com/og-preview.jpg">
<meta property="og:image:width" content="1280">
<meta property="og:image:height" content="720">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:site_name" content="Last Coin Standing">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="The Bitcoin Fixed Share ‚Äî Last Coin Standing">
<meta name="twitter:description" content="Bitcoin's supply is fixed at 21 million ‚Äî forever. Your share of the monetary network is mathematically guaranteed at the moment of acquisition.">
<meta name="twitter:image" content="https://lastcoinstanding.com/og-preview.jpg">

<!-- JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "@id": "https://lastcoinstanding.com/the-fixed-pie.html",
  "url": "https://lastcoinstanding.com/the-fixed-pie.html",
  "name": "The Bitcoin Fixed Share ‚Äî Last Coin Standing",
  "description": "An interactive exploration of how monetary supply expansion across USD, Gold, and Bitcoin affects your share of the monetary network over time ‚Äî and what a permanently fixed share may represent.",
  "isPartOf": { "@id": "https://lastcoinstanding.com/#website" },
  "publisher": { "@id": "https://lastcoinstanding.com/#organization" },
  "about": {
    "@type": "Thing",
    "name": "Bitcoin Fixed Supply",
    "description": "Bitcoin's terminal supply of 21 million and its implications for monetary ownership"
  },
  "inLanguage": "en"
}
</script>

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root {
  --bg: #0a0908;
  --bg-card: #111110;
  --border: #1e1c1a;
  --border-lt: #2a2826;
  --orange: #F7931A;
  --orange-dim: rgba(247,147,26,.45);
  --orange-glow: rgba(247,147,26,.12);
  --orange-soft: rgba(247,147,26,.08);
  --gold: #c9a84c;
  --gold-dim: rgba(201,168,76,.35);
  --gold-soft: rgba(201,168,76,.09);
  --red: #c0392b;
  --red-dim: rgba(192,57,43,.30);
  --red-soft: rgba(192,57,43,.10);
  --text: #d8d2ca;
  --text-dim: #908880;
  --text-bright: #f2eee8;
  --text-body: #d0c8c0;
  --text-muted: #706860;
  --font-d: 'Cormorant Garamond', Georgia, serif;
  --font-b: 'Inter', -apple-system, sans-serif;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { font-size: 100%; }
body {
  background: var(--bg);
  color: var(--text);
  font-family: var(--font-b);
  font-size: 1rem;
  line-height: 1.7;
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1000;
}

/* NAV */
.site-nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 24px;
  background: rgba(10,9,8,.95);
  border-bottom: 1px solid #1a1a1a;
  position: sticky;
  top: 0;
  z-index: 999;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}
.site-nav .brand {
  font-family: var(--font-b);
  font-size: .8rem;
  font-weight: 600;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: #999;
  text-decoration: none;
  transition: color .2s;
  flex-shrink: 0;
}
.site-nav .brand:hover { color: var(--orange); }
.site-nav .nav-links { display: flex; gap: 2px; flex-wrap: wrap; }
.site-nav .nav-links a {
  font-family: var(--font-b);
  font-size: .82rem;
  font-weight: 500;
  color: #aaa;
  text-decoration: none;
  padding: 7px 11px;
  border-radius: 4px;
  transition: color .2s, background .2s;
  white-space: nowrap;
}
.site-nav .nav-links a:hover { color: #ccc; background: rgba(255,255,255,.04); }
.site-nav .nav-links a.active { color: var(--orange); background: var(--orange-soft); }
.hamburger {
  display: none;
  background: none;
  border: none;
  cursor: pointer;
  padding: 8px;
  flex-direction: column;
  gap: 5px;
}
.hamburger span { display: block; width: 22px; height: 2px; background: #aaa; transition: all .3s; }
.hamburger.open span:nth-child(1) { transform: rotate(45deg) translate(5px,5px); }
.hamburger.open span:nth-child(2) { opacity: 0; }
.hamburger.open span:nth-child(3) { transform: rotate(-45deg) translate(5px,-5px); }
.mobile-overlay {
  display: none;
  position: fixed;
  inset: 0;
  top: 50px;
  background: rgba(10,9,8,.98);
  z-index: 998;
  flex-direction: column;
  padding: 2rem 1.5rem;
  gap: .5rem;
}
.mobile-overlay.show { display: flex; }
.mobile-overlay a {
  font-family: var(--font-b);
  font-size: 1.1rem;
  font-weight: 500;
  color: #aaa;
  text-decoration: none;
  padding: 12px 16px;
  border-radius: 6px;
  transition: all .2s;
}
.mobile-overlay a:hover { color: #ccc; background: rgba(255,255,255,.04); }
.mobile-overlay a.active { color: var(--orange); background: var(--orange-soft); }
@media (max-width: 768px) {
  .site-nav .nav-links { display: none; }
  .hamburger { display: flex; }
}

/* PAGE */
.page { max-width: 960px; margin: 0 auto; padding: 40px 24px 60px; }
.page-header { text-align: center; margin-bottom: 32px; }
.page-header h1 {
  font-family: var(--font-d);
  font-size: clamp(2rem, 4.5vw, 3rem);
  font-weight: 600;
  color: var(--text-bright);
  margin-bottom: 12px;
  letter-spacing: -.01em;
}
.page-header h1 .amber { color: var(--orange); }
.page-header .subtitle {
  font-size: 1rem;
  color: var(--text-dim);
  max-width: 580px;
  margin: 0 auto;
  line-height: 1.7;
}

/* TABS */
.tab-nav { display: flex; gap: 0; border-bottom: 1px solid var(--border); margin-bottom: 32px; }
.tab-btn {
  flex: 1;
  padding: 16px 12px;
  background: none;
  border: none;
  border-bottom: 3px solid transparent;
  cursor: pointer;
  text-align: center;
  transition: all .25s;
}
.tab-btn:hover { background: rgba(255,255,255,.02); }
.tab-btn .tab-num {
  display: block;
  font-family: var(--font-b);
  font-size: .62rem;
  font-weight: 600;
  letter-spacing: .2em;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 4px;
  transition: color .25s;
}
.tab-btn .tab-title {
  display: block;
  font-family: var(--font-d);
  font-size: clamp(.95rem, 2vw, 1.25rem);
  font-weight: 600;
  color: var(--text-dim);
  transition: color .25s;
}
.tab-btn.active { border-bottom-color: var(--orange); }
.tab-btn.active .tab-num { color: var(--orange); }
.tab-btn.active .tab-title { color: var(--text-bright); }
.tab-content { display: none; animation: tabIn .35s ease; }
.tab-content.active { display: block; }
@keyframes tabIn { from { opacity:0; transform:translateY(8px); } to { opacity:1; transform:translateY(0); } }

/* TYPOGRAPHY */
.section-title {
  font-family: var(--font-d);
  font-size: clamp(1.3rem, 2.5vw, 1.8rem);
  font-weight: 600;
  color: var(--text-bright);
  margin-bottom: 12px;
}
.section-title .amber { color: var(--orange); }
.section-title .gold-t { color: var(--gold); }
.section-title .red { color: var(--red); }
.prose {
  font-size: .97rem;
  color: var(--text-body);
  line-height: 1.8;
  max-width: 720px;
}
.prose + .prose { margin-top: 12px; }
.prose strong { color: var(--text-bright); font-weight: 600; }
.prose .amber { color: var(--orange); font-weight: 500; }
.prose .gold-t { color: var(--gold); font-weight: 500; }
.prose .red { color: var(--red); font-weight: 500; }

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TAB 1 ‚Äî THE FIXED SLICE
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

/* Supply overview cards */
.supply-trio {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin: 24px 0;
}
@media (max-width: 640px) { .supply-trio { grid-template-columns: 1fr; gap: 10px; } }

.supply-card {
  padding: 20px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.supply-card.sc-fiat { border-top: 3px solid var(--red); }
.supply-card.sc-gold { border-top: 3px solid var(--gold); }
.supply-card.sc-btc  { border-top: 3px solid var(--orange); }

.sc-label {
  font-size: .62rem;
  font-weight: 600;
  letter-spacing: .14em;
  text-transform: uppercase;
}
.sc-fiat .sc-label { color: var(--red); }
.sc-gold .sc-label { color: var(--gold); }
.sc-btc  .sc-label { color: var(--orange); }

.sc-name {
  font-family: var(--font-d);
  font-size: 1.15rem;
  font-weight: 600;
  color: var(--text-bright);
}
.sc-rate {
  font-size: .85rem;
  font-weight: 600;
  padding: 5px 10px;
  border-radius: 4px;
  display: inline-block;
  align-self: flex-start;
}
.sc-fiat .sc-rate { background: var(--red-soft); color: var(--red); }
.sc-gold .sc-rate { background: var(--gold-soft); color: var(--gold); }
.sc-btc  .sc-rate { background: var(--orange-soft); color: var(--orange); }
.sc-note { font-size: .82rem; color: var(--text-muted); line-height: 1.6; }

/* CHART HERO */
.chart-hero {
  margin: 28px 0 0;
  padding: 28px 28px 24px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  position: relative;
  overflow: hidden;
}
.chart-hero::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; height: 3px;
  background: linear-gradient(90deg, var(--red), var(--gold), var(--orange));
}
.chart-heading {
  font-family: var(--font-d);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-bright);
  margin-bottom: 4px;
}
.chart-sub {
  font-size: .8rem;
  color: var(--text-muted);
  margin-bottom: 20px;
}

.chart-wrap {
  width: 100%;
  height: 280px;
  position: relative;
}
@media (max-width: 600px) { .chart-wrap { height: 220px; } }

canvas#shareChart {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

/* Legend */
.chart-legend {
  display: flex;
  gap: 20px;
  margin: 14px 0 20px;
  flex-wrap: wrap;
}
.legend-item {
  display: flex;
  align-items: center;
  gap: 7px;
  font-size: .78rem;
  color: var(--text-dim);
}
.legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}
.legend-dot.ld-btc  { background: var(--orange); box-shadow: 0 0 6px var(--orange-dim); }
.legend-dot.ld-gold { background: var(--gold); }
.legend-dot.ld-fiat { background: var(--red); }

/* Year slider */
.slider-block { margin-bottom: 0; }
.slider-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 8px;
}
.slider-header .sl-label {
  font-size: .75rem;
  font-weight: 600;
  letter-spacing: .08em;
  text-transform: uppercase;
  color: var(--text-muted);
}
.slider-header .sl-value {
  font-family: var(--font-d);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-bright);
}

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 4px;
  border-radius: 2px;
  outline: none;
  background: var(--border);
  cursor: pointer;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--orange);
  border: 2px solid var(--bg);
  cursor: pointer;
  box-shadow: 0 0 8px var(--orange-dim);
}
input[type="range"]::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--orange);
  border: 2px solid var(--bg);
  cursor: pointer;
}
.year-marks {
  display: flex;
  justify-content: space-between;
  margin-top: 5px;
}
.year-marks span { font-size: .62rem; color: var(--text-muted); }

.replay-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  margin-top: 14px;
  padding: 8px 16px;
  background: none;
  border: 1px solid var(--border-lt);
  border-radius: 6px;
  font-family: var(--font-b);
  font-size: .75rem;
  font-weight: 600;
  letter-spacing: .06em;
  color: var(--text-muted);
  cursor: pointer;
  transition: all .2s;
}
.replay-btn:hover { border-color: var(--orange); color: var(--orange); }

/* STAT CARDS */
.stat-trio {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin: 24px 0;
}
@media (max-width: 640px) { .stat-trio { grid-template-columns: 1fr; } }

.stat-card {
  padding: 20px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  transition: border-color .3s;
}
.stat-card.st-fiat { border-left: 3px solid var(--red); }
.stat-card.st-gold { border-left: 3px solid var(--gold); }
.stat-card.st-btc  { border-left: 3px solid var(--orange); }

.st-label {
  font-size: .62rem;
  font-weight: 600;
  letter-spacing: .14em;
  text-transform: uppercase;
  margin-bottom: 4px;
}
.st-fiat .st-label { color: var(--red); }
.st-gold .st-label { color: var(--gold); }
.st-btc  .st-label { color: var(--orange); }

.st-name {
  font-size: .82rem;
  color: var(--text-muted);
  margin-bottom: 12px;
}
.st-big {
  font-family: var(--font-d);
  font-size: 2rem;
  font-weight: 700;
  line-height: 1;
  margin-bottom: 4px;
  transition: all .4s;
}
.st-fiat .st-big { color: var(--red); }
.st-gold .st-big { color: var(--gold); }
.st-btc  .st-big { color: var(--orange); }

.st-sub { font-size: .78rem; color: var(--text-muted); }
.st-verdict {
  margin-top: 12px;
  padding: 7px 10px;
  border-radius: 4px;
  font-size: .76rem;
  font-weight: 600;
  line-height: 1.4;
}
.st-fiat .st-verdict { background: var(--red-soft); color: var(--red); }
.st-gold .st-verdict { background: var(--gold-soft); color: var(--gold); }
.st-btc  .st-verdict { background: var(--orange-soft); color: var(--orange); }

/* TERMINAL SUPPLY NOTE */
.terminal-note {
  margin: 24px 0;
  padding: 18px 22px;
  background: var(--orange-soft);
  border: 1px solid rgba(247,147,26,.12);
  border-left: 3px solid var(--orange);
  border-radius: 6px;
}
.terminal-note p {
  font-size: .9rem;
  color: var(--text-body);
  line-height: 1.75;
}
.terminal-note strong { color: var(--orange); font-weight: 600; }

/* TAKEAWAY BLOCK */
.takeaway {
  margin: 24px 0;
  padding: 28px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  text-align: center;
}
.takeaway h3 {
  font-family: var(--font-d);
  font-size: clamp(1.2rem, 2.5vw, 1.6rem);
  font-weight: 600;
  color: var(--text-bright);
  line-height: 1.5;
  margin-bottom: 10px;
}
.takeaway h3 .amber { color: var(--orange); }
.takeaway h3 .red { color: var(--red); }
.takeaway p {
  font-size: .92rem;
  color: var(--text-dim);
  max-width: 600px;
  margin: 0 auto;
  line-height: 1.8;
}

/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   TAB 2 ‚Äî THE ENERGY MIGRATION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

.thesis-callout {
  margin: 0 0 24px;
  padding: 24px;
  background: linear-gradient(135deg, var(--bg-card), rgba(247,147,26,.04));
  border: 1px solid rgba(247,147,26,.15);
  border-left: 3px solid var(--orange);
  border-radius: 6px;
}
.thesis-callout .tc-label {
  font-size: .62rem;
  font-weight: 700;
  letter-spacing: .2em;
  text-transform: uppercase;
  color: var(--orange);
  margin-bottom: 8px;
}
.thesis-callout h3 {
  font-family: var(--font-d);
  font-size: 1.3rem;
  font-weight: 600;
  color: var(--text-bright);
  margin-bottom: 10px;
  line-height: 1.45;
}
.thesis-callout p {
  font-size: .92rem;
  color: var(--text-body);
  line-height: 1.8;
}

.key-fact {
  margin: 0 0 28px;
  padding: 20px 24px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  display: flex;
  gap: 16px;
  align-items: flex-start;
}
@media (max-width: 600px) { .key-fact { flex-direction: column; gap: 10px; } }
.kf-icon {
  font-size: 1.6rem;
  flex-shrink: 0;
  margin-top: 2px;
}
.kf-text h4 {
  font-family: var(--font-d);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--orange);
  margin-bottom: 5px;
}
.kf-text p { font-size: .88rem; color: var(--text-body); line-height: 1.7; }

/* CAGR CHART */
.cagr-section {
  margin: 0 0 28px;
}
.cagr-section h3 {
  font-family: var(--font-d);
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-bright);
  margin-bottom: 4px;
}
.cagr-section .cagr-sub {
  font-size: .82rem;
  color: var(--text-muted);
  margin-bottom: 16px;
}
.cagr-chart-wrap {
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 24px 24px 16px;
}
canvas#cagrChart {
  width: 100% !important;
  height: 220px !important;
  display: block;
}
.cagr-note {
  margin-top: 12px;
  font-size: .78rem;
  color: var(--text-muted);
  text-align: center;
  font-style: italic;
}

/* PROJECTION */
.projection-section {
  padding: 28px;
  background: var(--bg-card);
  border: 1px solid var(--border);
  border-radius: 10px;
  margin: 0 0 24px;
  position: relative;
  overflow: hidden;
}
.projection-section::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0; height: 3px;
  background: var(--orange);
}
.projection-section h3 {
  font-family: var(--font-d);
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--text-bright);
  margin-bottom: 4px;
}
.proj-sub { font-size: .83rem; color: var(--text-muted); margin-bottom: 24px; }

.proj-controls {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 24px;
}
@media (max-width: 580px) { .proj-controls { grid-template-columns: 1fr; } }

.proj-control label {
  display: block;
  font-size: .72rem;
  font-weight: 600;
  letter-spacing: .1em;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 8px;
}
.proj-control label span {
  font-family: var(--font-d);
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--orange);
  float: right;
  text-transform: none;
  letter-spacing: 0;
}

.proj-outputs {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-top: 4px;
}
@media (max-width: 640px) { .proj-outputs { grid-template-columns: 1fr; } }

.proj-out {
  padding: 18px;
  background: rgba(247,147,26,.05);
  border: 1px solid rgba(247,147,26,.12);
  border-radius: 8px;
  text-align: center;
}
.po-period {
  font-size: .68rem;
  font-weight: 600;
  letter-spacing: .12em;
  text-transform: uppercase;
  color: var(--text-muted);
  margin-bottom: 6px;
}
.po-value {
  font-family: var(--font-d);
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--orange);
  line-height: 1.1;
  margin-bottom: 4px;
  transition: all .3s;
}
.po-multiplier { font-size: .78rem; color: var(--text-muted); }

.proj-disclaimer {
  margin-top: 18px;
  padding: 14px 18px;
  background: rgba(255,255,255,.03);
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: .78rem;
  color: var(--text-muted);
  line-height: 1.6;
}
.proj-disclaimer strong { color: var(--text-dim); }

/* FOOTER */
footer {
  text-align: center;
  padding: 32px 24px;
  color: var(--text-muted);
  font-size: .88rem;
  border-top: 1px solid var(--border);
  margin-top: 20px;
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="site-nav">
  <a href="/" class="brand">Last Coin Standing</a>
  <div class="nav-links">
    <a href="/synthesis.html">The Synthesis</a>
    <a href="/what-bitcoin-is.html">What Bitcoin Is</a>
    <a href="/the-bitcoin-migration.html">The Bitcoin Migration</a>
    <a href="/trilemma.html">The Bitcoin Trilemma</a>
    <a href="/the-half-life.html">The Half-Life</a>
    <a href="/money-trees.html">Money Trees</a>
    <a href="/the-fixed-pie.html" class="active">The Bitcoin Fixed Share</a>
    <a href="/about.html">About</a>
  </div>
  <button class="hamburger" id="hamburger" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>
<div class="mobile-overlay" id="mobileOverlay">
  <a href="/synthesis.html">The Synthesis</a>
  <a href="/what-bitcoin-is.html">What Bitcoin Is</a>
  <a href="/the-bitcoin-migration.html">The Bitcoin Migration</a>
  <a href="/trilemma.html">The Bitcoin Trilemma</a>
  <a href="/the-half-life.html">The Half-Life</a>
  <a href="/money-trees.html">Money Trees</a>
  <a href="/the-fixed-pie.html" class="active">The Bitcoin Fixed Share</a>
  <a href="/about.html">About</a>
</div>

<div class="page">
  <!-- PAGE HEADER -->
  <header class="page-header">
    <h1>The Bitcoin <span class="amber">Fixed</span> Share</h1>
    <p class="subtitle">Your share of the Bitcoin network is mathematically fixed at the moment of acquisition ‚Äî and nothing can change that. Watch how that compares to every other form of money.</p>
  </header>

  <!-- TABS -->
  <div class="tab-nav">
    <button class="tab-btn active" data-tab="slice">
      <span class="tab-num">Part I</span>
      <span class="tab-title">The Bitcoin Fixed Share</span>
    </button>
    <button class="tab-btn" data-tab="energy">
      <span class="tab-num">Part II</span>
      <span class="tab-title">The Energy Migration</span>
    </button>
  </div>

  <!-- ‚ïê‚ïê‚ïê TAB 1: THE FIXED SLICE ‚ïê‚ïê‚ïê -->
  <div class="tab-content active" id="tab-slice">

    <div class="prose">
      At time zero, holding dollars, gold, or bitcoin looks unremarkable. Everyone has a <em>slice</em>. The difference only becomes visible over time ‚Äî and it is structural, not incidental.
    </div>

    <!-- Supply overview -->
    <div class="supply-trio">
      <div class="supply-card sc-fiat">
        <div class="sc-label">Fiat Currency</div>
        <div class="sc-name">US Dollar</div>
        <div class="sc-rate">~7% annual supply growth</div>
        <div class="sc-note">M2 money supply has expanded at roughly 7% per year on average since 1971. Expansion rate is discretionary ‚Äî there is no upper bound.</div>
      </div>
      <div class="supply-card sc-gold">
        <div class="sc-label">Commodity Money</div>
        <div class="sc-name">Gold</div>
        <div class="sc-rate">~2% annual supply growth</div>
        <div class="sc-note">New mining adds approximately 2% to the above-ground gold supply each year. No one is stealing from you ‚Äî but the supply expands regardless, quietly shrinking your share of the total forever.</div>
      </div>
      <div class="supply-card sc-btc">
        <div class="sc-label">Bitcoin Network</div>
        <div class="sc-name">Bitcoin</div>
        <div class="sc-rate">0% annual supply growth ‚Äî terminal at 21 million</div>
        <div class="sc-note">95% of all Bitcoin has already been mined. The protocol enforces a hard cap of 21 million. No authority can change this. Your share is fixed at the moment of acquisition.</div>
      </div>
    </div>

    <!-- Chart -->
    <div class="chart-hero">
      <div class="chart-heading">Your Share of the Network Over Time</div>
      <div class="chart-sub">Starting value = 100% (your share at acquisition). Watch what happens as years pass.</div>
      <div class="chart-wrap">
        <canvas id="shareChart"></canvas>
      </div>
      <div class="chart-legend">
        <div class="legend-item"><div class="legend-dot ld-btc"></div>Bitcoin ‚Äî 0% supply growth</div>
        <div class="legend-item"><div class="legend-dot ld-gold"></div>Gold ‚Äî ~2%/yr supply growth</div>
        <div class="legend-item"><div class="legend-dot ld-fiat"></div>USD ‚Äî ~7%/yr supply growth</div>
      </div>
      <div class="slider-block">
        <div class="slider-header">
          <span class="sl-label">Years from today</span>
          <span class="sl-value" id="yearDisplay">0 years</span>
        </div>
        <input type="range" id="yearSlider" min="0" max="50" value="0" step="1">
        <div class="year-marks">
          <span>Today</span><span>10 yrs</span><span>20 yrs</span><span>30 yrs</span><span>40 yrs</span><span>50 yrs</span>
        </div>
      </div>
      <button class="replay-btn" id="replayBtn">‚Ü∫ Replay animation</button>
    </div>

    <!-- Stat cards ‚Äî update dynamically -->
    <div class="stat-trio">
      <div class="stat-card st-fiat">
        <div class="st-label">US Dollar</div>
        <div class="st-name">% of your original share remaining</div>
        <div class="st-big" id="fiatShare">100%</div>
        <div class="st-sub" id="fiatSub">of original position retained</div>
        <div class="st-verdict" id="fiatVerdict">No years have passed yet.</div>
      </div>
      <div class="stat-card st-gold">
        <div class="st-label">Gold</div>
        <div class="st-name">% of your original share remaining</div>
        <div class="st-big" id="goldShare">100%</div>
        <div class="st-sub" id="goldSub">of original position retained</div>
        <div class="st-verdict" id="goldVerdict">No years have passed yet.</div>
      </div>
      <div class="stat-card st-btc">
        <div class="st-label">Bitcoin</div>
        <div class="st-name">% of your original share remaining</div>
        <div class="st-big" id="btcShare">100%</div>
        <div class="st-sub" id="btcSub">of original position retained</div>
        <div class="st-verdict" id="btcVerdict">Structurally fixed at 21M.</div>
      </div>
    </div>

    <div class="terminal-note">
      <p><strong>A note on terminal supply.</strong> Bitcoin's block reward halves roughly every four years and converges to zero around 2140. Today, approximately 95% of all bitcoin have already been mined. For this analysis we use the <strong>terminal 21 million</strong> as the denominator ‚Äî making the point unambiguous: no matter when you acquire your position, your share of the network's terminal supply is fixed at that moment, and cannot be diluted by any actor, protocol, or political decision.</p>
    </div>

    <div class="takeaway">
      <h3>In gold, supply grows benignly ‚Äî <span class="gold-t">but it grows.</span><br>In fiat, it grows by design ‚Äî and <span class="red">without limit.</span><br>In Bitcoin, it doesn't grow. <span class="amber">At all. Ever.</span></h3>
      <p>This isn't a policy preference. It's a protocol guarantee enforced by cryptographic proof-of-work and economic consensus across a distributed network that no single entity controls. Your 1/21M is 1/21M. Forever.</p>
    </div>

  </div><!-- /tab-slice -->

  <!-- ‚ïê‚ïê‚ïê TAB 2: THE ENERGY MIGRATION ‚ïê‚ïê‚ïê -->
  <div class="tab-content" id="tab-energy">

    <div class="thesis-callout">
      <div class="tc-label">The Thesis</div>
      <h3>A fixed share of a growing network may represent an ever-larger fraction of global economic value.</h3>
      <p>If you accept that Bitcoin's supply is fixed, the next question is: what does that fixed share represent over time? The hypothesis ‚Äî backed by 15 years of price history ‚Äî is that monetary energy is migrating from fiat-denominated systems into the Bitcoin network. Any share of the Bitcoin network you hold today ‚Äî fixed forever, as we established in Part I ‚Äî could represent a growing fraction of global economic value as that migration continues.</p>
    </div>

    <div class="key-fact">
      <div class="kf-icon">üìê</div>
      <div class="kf-text">
        <h4>No 4-year holding period has ever produced a negative return.</h4>
        <p>Bitcoin has experienced multiple 80%+ drawdowns. Yet over any complete 4-year window ‚Äî through bear markets, exchange collapses, regulatory crackdowns, and mining bans ‚Äî the 4-year compounded return has been positive without exception. This is not a guarantee of the future. It is an observation about the past.</p>
      </div>
    </div>

    <!-- CAGR Chart -->
    <div class="cagr-section">
      <h3>Historical 4-Year Rolling Compound Annual Growth Rate (CAGR)</h3>
      <div class="cagr-sub">Annualized return for every 4-year holding window in Bitcoin's history (approximate, using January prices)</div>
      <div class="cagr-chart-wrap">
        <canvas id="cagrChart"></canvas>
        <div class="cagr-note">All 4-year windows positive. The trend is declining as Bitcoin matures ‚Äî consistent with a maturing asset of growing market cap.</div>
      </div>
      <p style="font-size:.88rem;color:var(--text-body);line-height:1.75;margin-top:14px;">These are <strong style="color:var(--text-bright)">annualized</strong> figures ‚Äî meaning a 40% CAGR over 4 years doesn't mean 160% total. It means 40% compounded each year, which produces a ~284% total return over the period. The power of annual compounding is precisely what makes these numbers significant.</p>
    </div>

    <!-- Projection -->
    <div class="projection-section">
      <h3>Your Fixed Share ‚Äî of the Growing Monetary Network</h3>
      <p class="proj-sub">If your share of the network is fixed, what might it represent ‚Äî if Bitcoin becomes the dominant, global monetary network, replacing fiat? Explore the thesis with your own assumptions.</p>

      <div class="proj-controls">
        <div class="proj-control">
          <label>Starting position <span id="posDisplay">$10,000</span></label>
          <input type="range" id="posSlider" min="1000" max="200000" value="10000" step="1000">
        </div>
        <div class="proj-control">
          <label>Annual CAGR (Compound Annual Growth Rate) assumption <span id="cagrDisplay">40%</span></label>
          <input type="range" id="cagrSlider" min="5" max="100" value="40" step="5">
        </div>
      </div>

      <div class="proj-outputs">
        <div class="proj-out">
          <div class="po-period">4 Years</div>
          <div class="po-value" id="proj4">$38,416</div>
          <div class="po-multiplier" id="mult4">3.8√ó your position</div>
        </div>
        <div class="proj-out">
          <div class="po-period">8 Years</div>
          <div class="po-value" id="proj8">$147,590</div>
          <div class="po-multiplier" id="mult8">14.8√ó your position</div>
        </div>
        <div class="proj-out">
          <div class="po-period">12 Years</div>
          <div class="po-value" id="proj12">$566,764</div>
          <div class="po-multiplier" id="mult12">56.7√ó your position</div>
        </div>
      </div>

      <div class="proj-disclaimer">
        <strong>This is illustrative only.</strong> Past CAGR is not a predictor of future performance. Bitcoin's realized return has declined with each cycle as the asset matures and market cap grows ‚Äî this is expected and mathematically inevitable. The historical 4-year CAGR average is approximately 65%, declining toward a long-run figure closer to 20‚Äì30% over the next decade. The 40% default is a deliberately conservative scenario. This is a thesis ‚Äî not financial advice.
      </div>
    </div>

    <div class="takeaway">
      <h3>The certainty is your Bitcoin fixed share.<br>The <span class="amber">thesis</span> is the value of what that share may represent.</h3>
      <p>Part I of this page is structural ‚Äî it requires no assumptions. Part II requires you to form a view on the trajectory of the Bitcoin network. The evidence supports the thesis. The conclusion is yours to draw.</p>
    </div>

  </div><!-- /tab-energy -->

</div><!-- /page -->

<footer>
  ¬© Last Coin Standing ‚Äî Educational content only. Not financial advice.
</footer>

<script>
/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   NAV: Hamburger
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const hamburger = document.getElementById('hamburger');
const mobileOverlay = document.getElementById('mobileOverlay');
hamburger.addEventListener('click', () => {
  hamburger.classList.toggle('open');
  mobileOverlay.classList.toggle('show');
});
mobileOverlay.querySelectorAll('a').forEach(a => {
  a.addEventListener('click', () => {
    hamburger.classList.remove('open');
    mobileOverlay.classList.remove('show');
  });
});

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   TABS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
let cagrChartDrawn = false;
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    btn.classList.add('active');
    const id = btn.dataset.tab;
    document.getElementById('tab-' + id).classList.add('active');
    if (id === 'energy' && !cagrChartDrawn) {
      setTimeout(drawCagrChart, 50);
      cagrChartDrawn = true;
    }
  });
});

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   TAB 1: SHARE CHART
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
let currentYear = 0;
let animationId = null;
let animating = false;

const yearSlider  = document.getElementById('yearSlider');
const yearDisplay = document.getElementById('yearDisplay');
const replayBtn   = document.getElementById('replayBtn');

function shareRetained(annualGrowth, year) {
  if (annualGrowth === 0) return 100;
  return 100 / Math.pow(1 + annualGrowth, year);
}

function drawShareChart(highlightYear) {
  const canvas = document.getElementById('shareChart');
  const dpr = window.devicePixelRatio || 1;
  const w = canvas.offsetWidth || 800;
  const h = canvas.offsetHeight || 280;
  canvas.width  = w * dpr;
  canvas.height = h * dpr;
  const ctx = canvas.getContext('2d');
  ctx.scale(dpr, dpr);

  const pad = { top: 16, right: 60, bottom: 44, left: 52 };
  const cw = w - pad.left - pad.right;
  const ch = h - pad.top - pad.bottom;
  const maxYear = 50;

  const xOf  = y  => pad.left + (y / maxYear) * cw;
  const yOf  = pct => pad.top + ch - (pct / 100) * ch;

  ctx.clearRect(0, 0, w, h);

  // Grid
  const gridLevels = [0, 25, 50, 75, 100];
  ctx.font = `${Math.round(10 * dpr) / dpr}px Inter, sans-serif`;
  ctx.textAlign = 'right';
  ctx.textBaseline = 'middle';
  gridLevels.forEach(pct => {
    const y = yOf(pct);
    ctx.beginPath();
    ctx.moveTo(pad.left, y);
    ctx.lineTo(pad.left + cw, y);
    ctx.strokeStyle = pct === 100 ? '#2a2826' : '#1e1c1a';
    ctx.lineWidth = pct === 100 ? 1.2 : 0.8;
    ctx.stroke();
    ctx.fillStyle = '#706860';
    ctx.fillText(pct + '%', pad.left - 8, y);
  });

  // X axis ticks
  ctx.textAlign = 'center';
  ctx.textBaseline = 'top';
  ctx.fillStyle = '#706860';
  [0, 10, 20, 30, 40, 50].forEach(yr => {
    const x = xOf(yr);
    ctx.beginPath();
    ctx.moveTo(x, pad.top + ch);
    ctx.lineTo(x, pad.top + ch + 4);
    ctx.strokeStyle = '#2a2826'; ctx.lineWidth = 1; ctx.stroke();
    ctx.fillText(yr === 0 ? 'Today' : yr, x, pad.top + ch + 8);
  });

  // X axis label
  ctx.fillStyle = '#504840';
  ctx.font = `${Math.round(9 * dpr) / dpr}px Inter, sans-serif`;
  ctx.fillText('Years', pad.left + cw / 2, pad.top + ch + 30);

  // Draw lines
  const lines = [
    { growth: 0,    color: '#F7931A', label: 'Bitcoin', lineWidth: 3 },
    { growth: 0.02, color: '#c9a84c', label: 'Gold',    lineWidth: 2 },
    { growth: 0.07, color: '#c0392b', label: 'USD',     lineWidth: 2 },
  ];

  lines.forEach(line => {
    const yearsToDraw = Math.ceil(highlightYear);

    // Shadow/glow for bitcoin
    if (line.growth === 0) {
      ctx.save();
      ctx.shadowColor = 'rgba(247,147,26,0.25)';
      ctx.shadowBlur = 8;
    }

    ctx.beginPath();
    for (let y = 0; y <= Math.min(yearsToDraw, maxYear); y++) {
      const px = xOf(y);
      const py = yOf(shareRetained(line.growth, y));
      y === 0 ? ctx.moveTo(px, py) : ctx.lineTo(px, py);
    }

    // Partial last segment (smooth animation)
    const fracYear = highlightYear - Math.floor(highlightYear);
    if (fracYear > 0 && yearsToDraw <= maxYear) {
      const y0 = Math.floor(highlightYear);
      const y1 = Math.ceil(highlightYear);
      const px = xOf(y0 + fracYear);
      const py = yOf(
        shareRetained(line.growth, y0) * (1 - fracYear) +
        shareRetained(line.growth, y1) * fracYear
      );
      ctx.lineTo(px, py);
    }

    ctx.strokeStyle = line.color;
    ctx.lineWidth = line.lineWidth;
    ctx.lineJoin = 'round';
    ctx.lineCap = 'round';
    ctx.stroke();
    if (line.growth === 0) ctx.restore();

    // Draw future (dim) part ‚Äî only if not animating
    if (!animating && highlightYear < maxYear) {
      ctx.beginPath();
      const startY = Math.ceil(highlightYear);
      for (let y = startY; y <= maxYear; y++) {
        const px = xOf(y);
        const py = yOf(shareRetained(line.growth, y));
        y === startY ? ctx.moveTo(px, py) : ctx.lineTo(px, py);
      }
      ctx.strokeStyle = line.color;
      ctx.globalAlpha = 0.15;
      ctx.lineWidth = line.lineWidth;
      ctx.stroke();
      ctx.globalAlpha = 1;
    }

    // End label at right edge (at highlightYear position)
    const endY = Math.min(highlightYear, maxYear);
    const labelX = xOf(endY) + 6;
    const labelY = yOf(shareRetained(line.growth, endY));
    ctx.font = `600 ${Math.round(10 * dpr) / dpr}px Inter, sans-serif`;
    ctx.textAlign = 'left';
    ctx.textBaseline = 'middle';
    ctx.fillStyle = line.color;
    // Only show label if close to right edge
    if (endY >= maxYear * 0.85 || !animating) {
      const pct = shareRetained(line.growth, endY);
      ctx.fillText(line.label, labelX, labelY + (line.growth === 0 ? -8 : 0));
    }
  });

  // Cursor line at highlightYear
  const cx = xOf(highlightYear);
  ctx.beginPath();
  ctx.moveTo(cx, pad.top);
  ctx.lineTo(cx, pad.top + ch);
  ctx.strokeStyle = 'rgba(255,255,255,0.12)';
  ctx.lineWidth = 1.2;
  ctx.setLineDash([4, 5]);
  ctx.stroke();
  ctx.setLineDash([]);

  // Dots at cursor
  [
    { growth: 0,    color: '#F7931A' },
    { growth: 0.02, color: '#c9a84c' },
    { growth: 0.07, color: '#c0392b' },
  ].forEach(({ growth, color }) => {
    const pct = shareRetained(growth, highlightYear);
    const dotX = cx, dotY = yOf(pct);
    ctx.beginPath();
    ctx.arc(dotX, dotY, growth === 0 ? 5 : 4, 0, Math.PI * 2);
    ctx.fillStyle = color;
    ctx.fill();
    ctx.strokeStyle = '#0a0908';
    ctx.lineWidth = 2;
    ctx.stroke();
  });
}

function updateStatCards(year) {
  const fiatPct  = shareRetained(0.07, year);
  const goldPct  = shareRetained(0.02, year);
  const btcPct   = 100;

  const fmt = v => v >= 99.9 ? '100%' : v.toFixed(1) + '%';

  document.getElementById('fiatShare').textContent = fmt(fiatPct);
  document.getElementById('goldShare').textContent = fmt(goldPct);
  document.getElementById('btcShare').textContent  = fmt(btcPct);

  const yr = Math.round(year);

  if (yr === 0) {
    document.getElementById('fiatSub').textContent    = 'of original position retained';
    document.getElementById('goldSub').textContent    = 'of original position retained';
    document.getElementById('btcSub').textContent     = 'of original position retained';
    document.getElementById('fiatVerdict').textContent  = 'No years have passed yet.';
    document.getElementById('goldVerdict').textContent  = 'No years have passed yet.';
    document.getElementById('btcVerdict').textContent   = 'Structurally fixed at 21M.';
  } else {
    const fiatLost = (100 - fiatPct).toFixed(1);
    const goldLost = (100 - goldPct).toFixed(1);

    document.getElementById('fiatSub').textContent    = 'of original share remains after ' + yr + ' yr' + (yr > 1 ? 's' : '');
    document.getElementById('goldSub').textContent    = 'of original share remains after ' + yr + ' yr' + (yr > 1 ? 's' : '');
    document.getElementById('btcSub').textContent     = 'of original share ‚Äî no dilution, ever';
    document.getElementById('fiatVerdict').textContent  = fiatLost + '% of your share has been quietly transferred to others by new money creation.';
    document.getElementById('goldVerdict').textContent  = goldLost + '% of your share has been diluted by new mining. The supply expands forever ‚Äî silently diluting your position.';
    document.getElementById('btcVerdict').textContent   = 'Your share of 21M is identical to the day you acquired it.';
  }

  yearDisplay.textContent = yr === 0 ? '0 years' : yr + ' year' + (yr > 1 ? 's' : '');
  yearSlider.value = yr;
}

function setYear(year) {
  currentYear = year;
  drawShareChart(year);
  updateStatCards(year);
}

// Slider
yearSlider.addEventListener('input', function() {
  if (animating) return;
  setYear(+this.value);
});

// Animation
function runAnimation() {
  if (animating) return;
  animating = true;
  replayBtn.textContent = '‚è∏ Playing...';
  replayBtn.disabled = true;
  let t = 0;
  const target = 30;
  const duration = 3500; // ms
  const startTime = performance.now();

  function step(now) {
    const elapsed = now - startTime;
    const progress = Math.min(elapsed / duration, 1);
    // Ease out cubic
    const eased = 1 - Math.pow(1 - progress, 3);
    t = eased * target;
    setYear(t);
    if (progress < 1) {
      animationId = requestAnimationFrame(step);
    } else {
      animating = false;
      replayBtn.textContent = '‚Ü∫ Replay animation';
      replayBtn.disabled = false;
      drawShareChart(target); // final clean draw
    }
  }
  animationId = requestAnimationFrame(step);
}

replayBtn.addEventListener('click', () => {
  if (animating) return;
  setYear(0);
  setTimeout(runAnimation, 300);
});

// Resize
let resizeTimer;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimer);
  resizeTimer = setTimeout(() => {
    drawShareChart(currentYear);
  }, 100);
});

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   TAB 2: CAGR CHART
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const historicalCagrs = [
  { period: '12‚Üí16', cagr: 192 },
  { period: '13‚Üí17', cagr: 170 },
  { period: '14‚Üí18', cagr: 100 },
  { period: '15‚Üí19', cagr: 96  },
  { period: '16‚Üí20', cagr: 103 },
  { period: '17‚Üí21', cagr: 140 },
  { period: '18‚Üí22', cagr: 38  },
  { period: '19‚Üí23', cagr: 48  },
  { period: '20‚Üí24', cagr: 55  },
  { period: '21‚Üí25', cagr: 31  },
];

function drawCagrChart() {
  const canvas = document.getElementById('cagrChart');
  const dpr = window.devicePixelRatio || 1;
  const w = canvas.offsetWidth || 800;
  const h = 220;
  canvas.width  = w * dpr;
  canvas.height = h * dpr;
  const ctx = canvas.getContext('2d');
  ctx.scale(dpr, dpr);

  const pad = { top: 20, right: 20, bottom: 44, left: 50 };
  const cw  = w - pad.left - pad.right;
  const ch  = h - pad.top - pad.bottom;
  const maxCagr = 220;
  const barW = (cw / historicalCagrs.length) * 0.6;
  const gap  = cw / historicalCagrs.length;

  ctx.clearRect(0, 0, w, h);

  // Grid
  [0, 50, 100, 150, 200].forEach(v => {
    const y = pad.top + ch - (v / maxCagr) * ch;
    ctx.beginPath();
    ctx.moveTo(pad.left, y); ctx.lineTo(pad.left + cw, y);
    ctx.strokeStyle = v === 0 ? '#2a2826' : '#1a1816';
    ctx.lineWidth = v === 0 ? 1.2 : 0.7;
    ctx.stroke();
    ctx.font = `${Math.round(9 * dpr)/dpr}px Inter, sans-serif`;
    ctx.textAlign = 'right';
    ctx.textBaseline = 'middle';
    ctx.fillStyle = '#555048';
    if (v <= 200) ctx.fillText(v + '%', pad.left - 6, y);
  });

  // Bars
  historicalCagrs.forEach((d, i) => {
    const bx  = pad.left + i * gap + (gap - barW) / 2;
    const bh  = Math.min(d.cagr / maxCagr, 1) * ch;
    const by  = pad.top + ch - bh;
    const clampedNote = d.cagr > maxCagr;

    // Color: gradient warm to less warm based on value
    const intensity = Math.min(d.cagr / 200, 1);
    const r = Math.round(247);
    const g = Math.round(100 + 47 * intensity);
    const b = Math.round(26);
    const alpha = 0.4 + intensity * 0.5;

    // Bar fill
    const grad = ctx.createLinearGradient(bx, by, bx, by + bh);
    grad.addColorStop(0, `rgba(${r},${g},${b},${alpha})`);
    grad.addColorStop(1, `rgba(${r},${g},${b},${alpha * 0.4})`);

    ctx.fillStyle = grad;
    const radius = 3;
    ctx.beginPath();
    ctx.moveTo(bx + radius, by);
    ctx.lineTo(bx + barW - radius, by);
    ctx.arcTo(bx + barW, by, bx + barW, by + radius, radius);
    ctx.lineTo(bx + barW, by + bh);
    ctx.lineTo(bx, by + bh);
    ctx.arcTo(bx, by, bx + radius, by, radius);
    ctx.closePath();
    ctx.fill();

    // Border
    ctx.strokeStyle = `rgba(${r},${g},${b},0.5)`;
    ctx.lineWidth = 1;
    ctx.stroke();

    // Value label on top
    ctx.font = `600 ${Math.round(9 * dpr)/dpr}px Inter, sans-serif`;
    ctx.textAlign = 'center';
    ctx.textBaseline = 'bottom';
    ctx.fillStyle = `rgba(${r},${g},${b},0.85)`;
    const labelText = clampedNote ? d.cagr + '%‚Üë' : d.cagr + '%';
    ctx.fillText(labelText, bx + barW / 2, by - 3);

    // Period label below
    ctx.font = `${Math.round(8.5 * dpr)/dpr}px Inter, sans-serif`;
    ctx.textBaseline = 'top';
    ctx.fillStyle = '#706860';
    ctx.fillText(d.period, bx + barW / 2, pad.top + ch + 8);
  });

  // "All positive ‚Üë" annotation
  ctx.font = `italic ${Math.round(9 * dpr)/dpr}px Inter, sans-serif`;
  ctx.fillStyle = 'rgba(247,147,26,0.4)';
  ctx.textAlign = 'left';
  ctx.textBaseline = 'top';
  ctx.fillText('‚Üê all windows positive', pad.left + 4, pad.top + ch + 28);
}

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   TAB 2: PROJECTION
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
const posSlider   = document.getElementById('posSlider');
const cagrSlider  = document.getElementById('cagrSlider');
const posDisplay  = document.getElementById('posDisplay');
const cagrDisplay = document.getElementById('cagrDisplay');

function fmtMoney(n) {
  if (n >= 1e9)  return '$' + (n / 1e9).toFixed(1)  + 'B';
  if (n >= 1e6)  return '$' + (n / 1e6).toFixed(2)  + 'M';
  if (n >= 1e3)  return '$' + Math.round(n / 100) * 100 >= 1000
    ? '$' + (n / 1e3).toFixed(1) + 'K' : '$' + n;
  return '$' + Math.round(n);
}

function fmtK(n) {
  if (n >= 1e9) return '$' + (n/1e9).toFixed(1) + 'B';
  if (n >= 1e6) return '$' + (n/1e6).toFixed(2) + 'M';
  if (n >= 1e3) return '$' + Math.round(n/1000) + 'K';
  return '$' + Math.round(n);
}

function updateProjection() {
  const pos  = +posSlider.value;
  const cagr = +cagrSlider.value / 100;

  posDisplay.textContent  = fmtK(pos);
  cagrDisplay.textContent = (+cagrSlider.value) + '%';

  const p4  = pos * Math.pow(1 + cagr, 4);
  const p8  = pos * Math.pow(1 + cagr, 8);
  const p12 = pos * Math.pow(1 + cagr, 12);

  document.getElementById('proj4').textContent  = fmtK(p4);
  document.getElementById('proj8').textContent  = fmtK(p8);
  document.getElementById('proj12').textContent = fmtK(p12);

  document.getElementById('mult4').textContent  = (p4/pos).toFixed(1)  + '√ó your position';
  document.getElementById('mult8').textContent  = (p8/pos).toFixed(1)  + '√ó your position';
  document.getElementById('mult12').textContent = (p12/pos).toFixed(1) + '√ó your position';
}

posSlider.addEventListener('input',  updateProjection);
cagrSlider.addEventListener('input', updateProjection);

/* ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
   INIT
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
// Init Tab 1 chart
requestAnimationFrame(() => {
  drawShareChart(0);
  updateStatCards(0);
  setTimeout(runAnimation, 600);
});

// Init Tab 2 projection
updateProjection();
</script>
</body>
</html>
